!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.animation=e():t.animation=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=n(1),r=n(2),o=0;function s(t){t&&t()}function a(){this.taskQueue=[],this.timeline=new i,this.state=o,this.index=0}function u(){return new a}a.prototype.loadImage=function(t){return this._add(function(e){r(t.slice(),e)},0)},a.prototype.changePosition=function(t,e,n){var i,r,o=e.length;if(o){var a=this;i=function(i,r){n&&(t.style.backgroundImage="url("+n+")");var s=Math.min(r/a.interval|0,o),u=e[s-1].split(" ");t.style.backgroundPosition=u[0]+"px "+u[1]+"px",s===o&&i()},r=1}else i=s,r=0;return this._add(i,r)},a.prototype.changeSrc=function(t,e){var n,i,r=e.length;if(r){var o=this;n=function(n,i){var s=Math.min(i/o.interval|0,r);t.src=e[s-1],s===r&&n()},i=1}else n=s,i=0;return this._add(n,i)},a.prototype.enterFrame=function(t){return this._add(t,1)},a.prototype.then=function(t){return this._add(function(e){t(this),e()},0)},a.prototype.start=function(t){return 1===this.state?this:this.taskQueue.length?(this.state=1,this.interval=t,this._runTask(),this):this},a.prototype.repeat=function(t){var e=this;return this._add(function(){if(void 0===t)return e.index--,void e._runTask();if(t)t--,e.index--,e._runTask();else{var n=e.taskQueue[e.index];e._next(n)}},0)},a.prototype.repeatForever=function(){return this.repeat()},a.prototype.wait=function(t){return this.taskQueue&&this.taskQueue.length>0&&(this.taskQueue[this.taskQueue.length-1].wait=t),this},a.prototype.pause=function(){return 1===this.state?(this.state=2,this.timeline.stop(),this):this},a.prototype.restart=function(){return 2===this.state?(this.state=1,this.timeline.restart(),this):this},a.prototype.dispose=function(){return this.state!==o?(this.state=o,this.taskQueue=null,this.timeline.stop(),this.timeline=null,this):this},a.prototype._add=function(t,e){return this.taskQueue.push({taskFn:t,type:e}),this},a.prototype._runTask=function(){if(this.taskQueue&&1===this.state)if(this.index!==this.taskQueue.length){var t=this.taskQueue[this.index];0===t.type?this._syncTask(t):this._asyncTask(t)}else this.dispose()},a.prototype._syncTask=function(t){var e=this;(0,t.taskFn)(function(){e._next(t)})},a.prototype._asyncTask=function(t){var e=this;this.timeline.onenterframe=function(n){(0,t.taskFn)(function(){e.timeline.stop(),e._next(t)},n)},this.timeline.start(this.interval)},a.prototype._next=function(t){var e=this;this.index++,t.wait?setTimeout(function(){e._runTask()},t.wait):this._runTask()},u.version="1.0.0",t.exports=u},function(t,e,n){"use strict";var i=0;function r(){this.animationHandler=0,this.state=i}function o(t,e){var n=+new Date;function i(){var r=+new Date;t.animationHandler=s(i),r-n>=t.interval&&(t.onenterframe(r-e),n=r)}t.startTime=e,i.interval=t.interval,i()}r.prototype.onenterframe=function(t){},r.prototype.start=function(t){1!==this.state&&(this.state=1,this.interval=t||1e3/60,o(this,+new Date))},r.prototype.restart=function(){1!==this.state&&this.dur&&this.interval&&(this.state=1,o(this,+new Date-this.dur))},r.prototype.stop=function(){1===this.state&&(this.state=2,this.startTime&&(this.dur=+new Date-this.startTime),a(this.animationHandler))};var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||1e3/60)},a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)};t.exports=r},function(t,e,n){"use strict";var i=0;t.exports=function(t,e,n){var r=0,o=!0,s=0,a=!1;for(var u in t)if(t.hasOwnProperty(u)){var c=t[u];"string"==typeof c&&(c=t[u]={src:c}),c&&c.src&&(r++,c.id="__img_"+u+ ++i,c.img=window[c.id]=new Image,h(c))}function h(t){t.status="loading";var n=t.img;function i(){n.onload=n.onerror=null;try{delete window[t.id]}catch(t){}--r||a||(clearTimeout(s),e(o))}n.onload=function(){o=o&&!0,t.status="loaded",i()},n.onerror=function(){o=!1,t.status="error",i()},n.src=t.src}r?n&&(s=setTimeout(function(){a=!0,e(!1)},n)):e(o)}}])});